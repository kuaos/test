import{z as N,_ as k,i as A,u as D,b as u,c as y,o as l,d as _,f as b,w as i,q as f,l as w,F as S,m as P,A as z,t as v,e as h,g as C,a as V,r as E,k as B,B as T,E as $}from"./index-38f87ed1.js";function M(t){return N({url:"/spot/list",method:"get",params:t})}const F={class:"tab_box"},L={key:1},O={__name:"Table",props:{border:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},isIndex:{type:Boolean,default:!1},tableData:{type:Array,default:()=>[]},column:{type:Array,default:()=>[]}},setup(t){A(c=>({"3057616c":p.value})),D();const p=u("#002766"),n=u([]),s=c=>{n.value=c};return(c,m)=>{const r=y("el-table-column"),d=y("el-table");return l(),_("div",F,[b(d,{ref:"table",class:"table",data:t.tableData,border:t.border,onSelectionChange:s,style:{width:"100%"},stripe:""},{default:i(()=>[t.checked?(l(),f(r,{key:0,type:"selection",width:"55",align:"center"})):w("",!0),t.isIndex?(l(),f(r,{key:1,type:"index",label:"序号",width:"100",align:"center"})):w("",!0),(l(!0),_(S,null,P(t.column,(e,a)=>(l(),_(S,null,[e.prop!="TableAction"?(l(),f(r,{key:0,property:e.prop,label:e.label,width:e.width,align:e.align},{default:i(o=>[e&&e.action?z(c.$slots,e.prop,{key:0,data:o.row},void 0,!0):(l(),_("span",L,v(o.row[e.prop]),1))]),_:2},1032,["property","label","width","align"])):(l(),f(r,{key:1,label:e.label,width:e.width,align:e.align},{default:i(o=>[z(c.$slots,"TableAction",{data:o.row},void 0,!0)]),_:2},1032,["label","width","align"]))],64))),256))]),_:3},8,["data","border"])])}}},U=k(O,[["__scopeId","data-v-6baceba7"]]);const j={class:"pagination"},q={style:{"font-size":"0.14rem"}},K={style:{"font-size":"0.16rem"}},R={__name:"pagination",props:{total:{type:Number,default:1e3},small:{type:Boolean,default:!1},background:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["sizeChange","currentChange"],setup(t,{emit:p}){const n=u(1),s=u(10),c=d=>{console.log(s.value),r("sizeChange",d)},m=d=>{console.log(n.value),r("currentChange",d)},r=p;return(d,e)=>{const a=y("el-pagination");return l(),_("div",j,[b(a,{class:"pagination","current-page":n.value,"onUpdate:currentPage":e[0]||(e[0]=o=>n.value=o),"page-size":s.value,"onUpdate:pageSize":e[1]||(e[1]=o=>s.value=o),"page-sizes":[10,20,50,100],small:t.small,disabled:t.disabled,background:t.background,layout:"slot,->,prev,pager,next,sizes,jumper",total:t.total,onSizeChange:c,onCurrentChange:m},{default:i(()=>[h("span",q,[C("共 "),h("span",K,v(t.total),1),C(" 条")])]),_:1},8,["current-page","page-size","small","disabled","background","total"])])}}},G=k(R,[["__scopeId","data-v-93ab491c"]]);const H={id:"container"},J={class:"main"},Q={__name:"index",setup(t){V(),D();const p=u(0);u("");const n=E({tableData:[],params:{pageNum:1,pageSize:10,name:""},column:[{prop:"name",label:"景区名称",width:"250",action:!0},{prop:"scenicSpotPhone",label:"景区联系方式",width:"220",action:!0},{prop:"address",label:"景区地址"},{prop:"openTime",label:"开放时间",width:"220"},{prop:"gmtModyfied",label:"更新时间",width:"250"},{prop:"TableAction",label:"操作",width:"150"}]}),s=()=>{M(n.params).then(a=>{console.log(a),n.tableData=a.data.data,p.value=a.data.totalNum}).catch(a=>{})};u([]);const c=a=>{console.log(`${a} items per page`),n.params.pageSize=a,s()},m=a=>{console.log(`current page: ${a}`),n.params.pageNum=a,s()},r=(a,o)=>{e()},d=a=>{T.confirm("确定删除此景区？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{e()}).catch(()=>{$({type:"info",message:"取消删除"})})},e=()=>{T.alert("该模块正在建设中...","开发中",{confirmButtonText:"OK",callback:a=>{$({type:"info",message:"请耐心等待哦~"})}})};return s(),(a,o)=>{const x=y("el-button");return l(),_("div",H,[h("div",J,[b(B(U),{border:!1,checked:!0,tableData:n.tableData,isIndex:!0,column:n.column},{name:i(g=>[h("span",null,v(g.data.name),1)]),scenicSpotPhone:i(g=>[h("span",null,v(g.data.scenicSpotPhone),1)]),TableAction:i(g=>[b(x,{class:"edit",link:"",type:"success",onClick:I=>r("edit",g.data)},{default:i(()=>[C("编辑")]),_:2},1032,["onClick"]),b(x,{link:"",type:"danger",class:"del",onClick:I=>d(g.data)},{default:i(()=>[C("删除")]),_:2},1032,["onClick"])]),_:1},8,["tableData","column"]),b(B(G),{total:p.value,onSizeChange:c,onCurrentChange:m},null,8,["total"])])])}}},X=k(Q,[["__scopeId","data-v-18cee474"]]);export{X as default};
